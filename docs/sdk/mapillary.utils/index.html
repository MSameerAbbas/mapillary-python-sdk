<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mapillary Python SDK Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mapillary Python SDK Blog Atom Feed"><title data-react-helmet="true">mapillary.utils package | Mapillary Python SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://mapillary.github.io/docs/sdk/mapillary.utils"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="mapillary.utils package | Mapillary Python SDK"><meta data-react-helmet="true" name="description" content="## Submodules"><meta data-react-helmet="true" property="og:description" content="## Submodules"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mapillary.github.io/docs/sdk/mapillary.utils"><link data-react-helmet="true" rel="alternate" href="https://mapillary.github.io/docs/sdk/mapillary.utils" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mapillary.github.io/docs/sdk/mapillary.utils" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c068d5e9.css">
<link rel="preload" href="/assets/js/runtime~main.05a58439.js" as="script">
<link rel="preload" href="/assets/js/main.b4f6ff67.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Mapillary" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Mapillary" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Mapillary Python SDK</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mapillary/mapillary-python-sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - Basics</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - Extras</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Mapillary Python SDK - Interface</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/index">index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/mapillary.config.api">mapillary.config.api package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/mapillary.config">mapillary.config package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/mapillary.controller">mapillary.controller package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/mapillary">mapillary package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/mapillary.models.api">mapillary.models.api package</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/mapillary.models">mapillary.models package</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sdk/mapillary.utils">mapillary.utils package</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>mapillary.utils package</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="submodules"></a>Submodules<a class="hash-link" href="#submodules" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mapillaryutilsauth-module"></a>mapillary.utils.auth module<a class="hash-link" href="#mapillaryutilsauth-module" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsauth"></a>mapillary.utils.auth<a class="hash-link" href="#mapillaryutilsauth" title="Direct link to heading">#</a></h3><p> This module contains the authorization logic for the client class of Mapillary, responsible
for keeping track of the session token set</p><p> For more information, please check out <a href="https://www.mapillary.com/developer/api-documentation/" target="_blank" rel="noopener noreferrer">https://www.mapillary.com/developer/api-documentation/</a>.</p><ul><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsauthauth"></a>mapillary.utils.auth.auth()<a class="hash-link" href="#mapillaryutilsauthauth" title="Direct link to heading">#</a></h3><p>Wrap interface functions with logic for Client</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsauthset_tokentoken-str"></a>mapillary.utils.auth.set_token(token: str)<a class="hash-link" href="#mapillaryutilsauthset_tokentoken-str" title="Direct link to heading">#</a></h3><p>Allows the user to set access token to be able to interact with API v4</p></li><li><p><strong>Parameters</strong></p><p>  <strong>token</strong> – Access token</p></li><li><p><strong>Returns</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Dictionary containing the access token</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mapillaryutilsextract-module"></a>mapillary.utils.extract module<a class="hash-link" href="#mapillaryutilsextract-module" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsextract"></a>mapillary.utils.extract<a class="hash-link" href="#mapillaryutilsextract" title="Direct link to heading">#</a></h3><p>This module deals with extracting multiple fields nested within a GeoJSON packet.</p></li><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsextractextract_propertiesgeojson-dict-properties-list"></a>mapillary.utils.extract.extract_properties(geojson: dict, properties: list)<a class="hash-link" href="#mapillaryutilsextractextract_propertiesgeojson-dict-properties-list" title="Direct link to heading">#</a></h3><p>Extracts specific properties from a complete GeoJSON</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>geojson</strong> (<em>dict</em>) – GeoJSON object</li></ul><ul><li><strong>properties</strong> (<em>list</em>) – A list of properties to extract</li></ul></li><li><p><strong>Returns</strong></p><p>  The extracted fields as a dict</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; from utils.extract import extract_properties</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; extract_properties(geojson={&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-80.12991070747375,25.787652114106322]},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &quot;properties&quot;:{&quot;captured_at&quot;:1540386861135, &quot;compass_angle&quot;:252.04260253906,&quot;id&quot;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... 1274987139570038,&quot;is_pano&quot;:&#x27;False&#x27;,&quot;sequence_id&quot;:&quot;Vf8Iwxx5SemxI7_b_7J5Kw&quot;}},{&quot;type&quot;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-80.13223886489868,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... 25.78756517066695]}, &quot;properties&quot;:{&quot;captured_at&quot;:1422989164000,&quot;compass_angle&quot;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... 89.781,&quot;id&quot;:169629268373019,&quot;is_pano&quot;: &quot;True&quot;,&quot;sequence_id&quot;:&quot;dqjuprkOwUnmdEVt5gx-Iw&quot;}}]}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... , properties=[&#x27;id&#x27;]) # id most likely exists</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilter-module"></a>mapillary.utils.filter module<a class="hash-link" href="#mapillaryutilsfilter-module" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilter"></a>mapillary.utils.filter<a class="hash-link" href="#mapillaryutilsfilter" title="Direct link to heading">#</a></h3><p>This module contains the filter utilies for high level filtering logic</p></li><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterby_look_at_featureimage-dict-look_at_feature-geojsonfeaturefeature"></a>mapillary.utils.filter.by_look_at_feature(image: dict, look_at_feature: geojson.feature.Feature)<a class="hash-link" href="#mapillaryutilsfilterby_look_at_featureimage-dict-look_at_feature-geojsonfeaturefeature" title="Direct link to heading">#</a></h3><p>Filter through the given image features and return only features with the look_at_feature</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>image</strong> (<em>dict</em>) – The feature dictionary</li></ul><ul><li><strong>look_at_feature</strong> (<em>A WGS84 GIS feature<strong>, </strong>TurfPy</em>) – Feature description</li></ul></li><li><p><strong>Returns</strong></p><p>  Whether the given feature is looking at the look_at_features</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bool</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfiltercompass_angledata-list-angles-tuple--00-3600"></a>mapillary.utils.filter.compass_angle(data: list, angles: tuple = (0.0, 360.0))<a class="hash-link" href="#mapillaryutilsfiltercompass_angledata-list-angles-tuple--00-3600" title="Direct link to heading">#</a></h3><p>Filter out images that do not lie within compass angle range</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The data to be filtered</li></ul><ul><li><strong>angles</strong> – The compass angle range to filter through</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterexisted_atdata-list-existed_at-str"></a>mapillary.utils.filter.existed_at(data: list, existed_at: str)<a class="hash-link" href="#mapillaryutilsfilterexisted_atdata-list-existed_at-str" title="Direct link to heading">#</a></h3><p>Whether the first_seen_at properly existed after a specified time period</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The feature list</li></ul><ul><li><strong>existed_at</strong> (<em>str</em>) – The UNIX timestamp</li></ul></li><li><p><strong>Returns</strong></p><p>  The feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterexisted_beforedata-list-existed_before-str"></a>mapillary.utils.filter.existed_before(data: list, existed_before: str)<a class="hash-link" href="#mapillaryutilsfilterexisted_beforedata-list-existed_before-str" title="Direct link to heading">#</a></h3><p>Whether the first_seen_at properly existed before a specified time period</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The feature list</li></ul><ul><li><strong>existed_before</strong> (<em>str</em>) – The UNIX timestamp</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterfeatures_in_bounding_boxdata-list-bbox-dict"></a>mapillary.utils.filter.features_in_bounding_box(data: list, bbox: dict)<a class="hash-link" href="#mapillaryutilsfilterfeatures_in_bounding_boxdata-list-bbox-dict" title="Direct link to heading">#</a></h3><p>Filter for extracting features only in a bounding box</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – the features list to be checked</li></ul><ul><li><p><strong>bbox</strong> (<em>dict</em>) – Bounding box coordinates</p><p>Example::</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">```python</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &#x27;west&#x27;: &#x27;BOUNDARY_FROM_WEST&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &#x27;south&#x27;: &#x27;BOUNDARY_FROM_SOUTH&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &#x27;east&#x27;: &#x27;BOUNDARY_FROM_EAST&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &#x27;north&#x27;: &#x27;BOUNDARY_FROM_NORTH&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">```</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul></li><li><p><strong>Returns</strong></p><p>  Features that only exist within the bounding box selected for the given features list
provided in the BBox functon</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterfilter_valuesdata-list-values-list-property-str--value"></a>mapillary.utils.filter.filter_values(data: list, values: list, property: str = &#x27;value&#x27;)<a class="hash-link" href="#mapillaryutilsfilterfilter_valuesdata-list-values-list-property-str--value" title="Direct link to heading">#</a></h3><p>Filter the features based on the existence of a specified value
in one of the property.</p><p><em>TODO</em>: Need documentation that lists the ‘values’, specifically, it refers to ‘value’
<em>TODO</em>: under ‘Detection’, and ‘Map feature’, related to issue #65</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>dict</em>) – The data to be filtered</li></ul><ul><li><strong>values</strong> (<em>list</em>) – A list of values to filter by</li></ul><ul><li><strong>property</strong> (<em>str</em>) – The specific parameter to look into</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterhaversine_distdata-dict-radius-float-coords-list-unit-str--m"></a>mapillary.utils.filter.haversine_dist(data: dict, radius: float, coords: list, unit: str = &#x27;m&#x27;)<a class="hash-link" href="#mapillaryutilsfilterhaversine_distdata-dict-radius-float-coords-list-unit-str--m" title="Direct link to heading">#</a></h3><p>Returns features that are only in the radius specified using the Haversine distance, from
the haversine package</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>dict</em>) – The data to be filtered</li></ul><ul><li><strong>radius</strong> (<em>float</em>) – Radius for coordinates to fall into</li></ul><ul><li><strong>coords</strong> (<em>list</em>) – The input coordinates (long, lat)</li></ul><ul><li><strong>unit</strong> (<em>str</em>) – Either ‘ft’, ‘km’, ‘m’, ‘mi’, ‘nmi’, see here <a href="https://pypi.org/project/haversine/" target="_blank" rel="noopener noreferrer">https://pypi.org/project/haversine/</a></li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterhits_by_look_atdata-list-at-dict"></a>mapillary.utils.filter.hits_by_look_at(data: list, at: dict)<a class="hash-link" href="#mapillaryutilsfilterhits_by_look_atdata-list-at-dict" title="Direct link to heading">#</a></h3><p>Whether the given data have any feature that look at the at coordinates</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – List of features with an Image entity</li></ul><ul><li><p><strong>at</strong> (<em>dict</em>) – The lng and lat coordinates</p><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &#x27;lng&#x27;: &#x27;longitude&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &#x27;lat&#x27;: &#x27;latitude&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul></li><li><p><strong>Returns</strong></p><p>  Filtered results of features only looking at at</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterimage_typedata-list-image_type-str"></a>mapillary.utils.filter.image_type(data: list, image_type: str)<a class="hash-link" href="#mapillaryutilsfilterimage_typedata-list-image_type-str" title="Direct link to heading">#</a></h3><p>The parameter might be ‘all’ (both is_pano == true and false), ‘pano’ (is_pano == true only),
or ‘flat’ (is_pano == false only)</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The data to be filtered</li></ul><ul><li><strong>image_type</strong> (<em>str</em>) – Either ‘pano’ (True), ‘flat’ (False), or ‘all’ (None)</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterin_shapedata-list-boundary"></a>mapillary.utils.filter.in_shape(data: list, boundary)<a class="hash-link" href="#mapillaryutilsfilterin_shapedata-list-boundary" title="Direct link to heading">#</a></h3><p>Whether the given feature list lies within the shape</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – A feature list to be filtered</li></ul><ul><li><strong>boundary</strong> – Shapely helper for determining existence of point within a boundary</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilteris_looking_atimage_feature-geojsonfeaturefeature-look_at_feature-geojsonfeaturefeature"></a>mapillary.utils.filter.is_looking_at(image_feature: geojson.feature.Feature, look_at_feature: geojson.feature.Feature)<a class="hash-link" href="#mapillaryutilsfilteris_looking_atimage_feature-geojsonfeaturefeature-look_at_feature-geojsonfeaturefeature" title="Direct link to heading">#</a></h3><p>Return whether the image_feature is looking at the look_at_feature</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>image_feature</strong> (<em>dict</em>) – The feature set of the image</li></ul><ul><li><strong>look_at_feature</strong> (<em>dict</em>) – The feature that is being looked at</li></ul></li><li><p><strong>Returns</strong></p><p>  Whether the diff is greater than 310, or less than 50</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bool</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfiltermax_captured_atdata-list-max_timestamp-str"></a>mapillary.utils.filter.max_captured_at(data: list, max_timestamp: str)<a class="hash-link" href="#mapillaryutilsfiltermax_captured_atdata-list-max_timestamp-str" title="Direct link to heading">#</a></h3><p>Selects only the feature items that are less
than the max_timestamp</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The feature list</li></ul><ul><li><strong>max_timestamp</strong> (<em>str</em>) – The UNIX timestamp as the max time</li></ul></li><li><p><strong>Returns</strong></p><p>  Filtered feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; max_captured_at([{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {&#x27;type&#x27;: &#x27;Point&#x27;, &#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]}, &#x27;properties&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... { ... }, ...}], &#x27;2020-05-23&#x27;)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfiltermin_captured_atdata-list-min_timestamp-str"></a>mapillary.utils.filter.min_captured_at(data: list, min_timestamp: str)<a class="hash-link" href="#mapillaryutilsfiltermin_captured_atdata-list-min_timestamp-str" title="Direct link to heading">#</a></h3><p>Selects only the feature items that are less
than the min_timestamp</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The feature list</li></ul><ul><li><strong>min_timestamp</strong> (<em>str</em>) – The UNIX timestamp as the max time</li></ul></li><li><p><strong>Returns</strong></p><p>  Filtered feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; max_captured_at([{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {&#x27;type&#x27;: &#x27;Point&#x27;, &#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]}, &#x27;properties&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... { ... }, ...}], &#x27;2020-05-23&#x27;)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterorganization_iddata-list-organization_ids-list"></a>mapillary.utils.filter.organization_id(data: list, organization_ids: list)<a class="hash-link" href="#mapillaryutilsfilterorganization_iddata-list-organization_ids-list" title="Direct link to heading">#</a></h3><p>Select only features that contain the specific organization_id</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>dict</em>) – The data to be filtered</li></ul><ul><li><strong>organization_ids</strong> (<em>list</em>) – The oragnization id(s) to filter through</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterpipelinedata-dict-components-list"></a>mapillary.utils.filter.pipeline(data: dict, components: list)<a class="hash-link" href="#mapillaryutilsfilterpipelinedata-dict-components-list" title="Direct link to heading">#</a></h3><p>A pipeline component that helps with making filtering easier. It provides
access to different filtering mechanism by simplying letting users
pass in what filter they want to apply, and the arguments for that filter</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>dict</em>) – The GeoJSON to be filtered</li></ul><ul><li><strong>components</strong> (<em>list</em>) – The list of filters to apply</li></ul></li><li><p><strong>Returns</strong></p><p>  The filtered feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; # assume variables &#x27;data&#x27;, &#x27;kwargs&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; pipeline(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     data=data,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     components=[</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         {&quot;filter&quot;: &quot;image_type&quot;, &quot;tile&quot;: kwargs[&quot;image_type&quot;]}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         if &quot;image_type&quot; in kwargs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         else {},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         {&quot;filter&quot;: &quot;organization_id&quot;, &quot;organization_ids&quot;: kwargs[&quot;org_id&quot;]}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         if &quot;org_id&quot; in kwargs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         else {},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;filter&quot;: &quot;haversine_dist&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;radius&quot;: kwargs[&quot;radius&quot;],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;coords&quot;: [longitude, latitude],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         if &quot;radius&quot; in kwargs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         else 1000</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfilterpipeline_componentfunc-data-list-exception_message-str-args-list"></a>mapillary.utils.filter.pipeline_component(func, data: list, exception_message: str, args: list)<a class="hash-link" href="#mapillaryutilsfilterpipeline_componentfunc-data-list-exception_message-str-args-list" title="Direct link to heading">#</a></h3><p>A pipeline component which is respnonsible for sending functional arguments over
to the selected target function - throwing a warning in case of an exception</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>func</strong> (<em>function</em>) – The filter to apply</li></ul><ul><li><strong>data</strong> (<em>list</em>) – The list of features to filter</li></ul><ul><li><strong>exception_message</strong> (<em>str</em>) – The exception message to print</li></ul><ul><li><strong>args</strong> (<em>list</em>) – Arguments</li></ul></li><li><p><strong>Returns</strong></p><p>  The filtered feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; # internally used in mapillary.utils.pipeline</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsfiltersequence_iddata-list-ids-list"></a>mapillary.utils.filter.sequence_id(data: list, ids: list)<a class="hash-link" href="#mapillaryutilsfiltersequence_iddata-list-ids-list" title="Direct link to heading">#</a></h3><p>Filter out images that do not have the sequence_id in the list of ids</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>list</em>) – The data to be filtered</li></ul><ul><li><strong>ids</strong> (<em>list</em>) – The sequence id(s) to filter through</li></ul></li><li><p><strong>Returns</strong></p><p>  A feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mapillaryutilsformat-module"></a>mapillary.utils.format module<a class="hash-link" href="#mapillaryutilsformat-module" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformat"></a>mapillary.utils.format<a class="hash-link" href="#mapillaryutilsformat" title="Direct link to heading">#</a></h3><p>This module deals with converting data to and from different file formats.</p></li><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatdecode_pixel_geometrybase64_string-str-normalized-bool--true-width-int--4096-height-int--4096"></a>mapillary.utils.format.decode_pixel_geometry(base64_string: str, normalized: bool = True, width: int = 4096, height: int = 4096)<a class="hash-link" href="#mapillaryutilsformatdecode_pixel_geometrybase64_string-str-normalized-bool--true-width-int--4096-height-int--4096" title="Direct link to heading">#</a></h3><p>Decodes the pixel geometry, and return the coordinates, which can be specified to be
normalized</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>base64_string</strong> (<em>str</em>) – The pixel geometry encoded as a vector tile</li></ul><ul><li><strong>normalized</strong> (<em>bool</em>) – If normalization is required, defaults to True</li></ul><ul><li><strong>width</strong> (<em>int</em>) – The width of the pixel geometry, defaults to 4096</li></ul><ul><li><strong>height</strong> (<em>int</em>) – The height of the pixel geometry, defaults to 4096</li></ul></li><li><p><strong>Returns</strong></p><p>  A dictionary with coordinates as key, and value as the normalized list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatdecode_pixel_geometry_in_geojsongeojson-uniondict-mapillarymodelsgeojsongeojson-normalized-bool--true-width-int--4096-height-int--4096"></a>mapillary.utils.format.decode_pixel_geometry_in_geojson(geojson: Union[dict, mapillary.models.geojson.GeoJSON], normalized: bool = True, width: int = 4096, height: int = 4096)<a class="hash-link" href="#mapillaryutilsformatdecode_pixel_geometry_in_geojsongeojson-uniondict-mapillarymodelsgeojsongeojson-normalized-bool--true-width-int--4096-height-int--4096" title="Direct link to heading">#</a></h3><p>Decodes all the pixel_geometry</p></li><li><p><strong>Parameters</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">* **geojson** – The GeoJSON representation to be decoded</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* **normalized** (*bool*) – If normalization is required, defaults to True</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* **width** (*int*) – The width of the pixel geometry, defaults to 4096</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* **height** (*int*) – The height of the pixel geometry, defaults to 4096</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatdetection_features_to_geojsonfeature_list-list"></a>mapillary.utils.format.detection_features_to_geojson(feature_list: list)<a class="hash-link" href="#mapillaryutilsformatdetection_features_to_geojsonfeature_list-list" title="Direct link to heading">#</a></h3><p>Converts a preprocessed list (i.e, features from the detections of either images or
map_features from multiple segments) into a fully featured GeoJSON</p></li><li><p><strong>Parameters</strong></p><p>  <strong>feature_list</strong> (<em>list</em>) – A list of processed features merged from different segments within a
detection</p></li><li><p><strong>Returns</strong></p><p>  GeoJSON formatted as expected in a detection format</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; # From</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; [{&#x27;created_at&#x27;: &#x27;2021-05-20T17:49:01+0000&#x27;, &#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;GjUKBm1weS1vchIVEgIAABgDIg0JhiekKBoqAABKKQAPGgR0eXBlIgkKB3BvbHlnb24ogCB4AQ==&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;image&#x27;: {&#x27;geometry&#x27;: {&#x27;type&#x27;: &#x27;Point&#x27;, &#x27;coordinates&#x27;: [-97.743279722222,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... 30.270651388889]}, &#x27;id&#x27;: &#x27;1933525276802129&#x27;}, &#x27;value&#x27;: &#x27;regulatory--no-parking--g2&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;id&#x27;: &#x27;1942105415944115&#x27;}, ... ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; # To</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;type&#x27;: &#x27;FeatureCollection&#x27;, &#x27;features&#x27;: [{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {&#x27;type&#x27;: &#x27;Point&#x27;, &#x27;coordinates&#x27;: [-97.743279722222, 30.270651388889]}, &#x27;properties&#x27;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;image_id&#x27;: &#x27;1933525276802129&#x27;, &#x27;created_at&#x27;: &#x27;2021-05-20T17:49:01+0000&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;pixel_geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;GjUKBm1weS1vchIVEgIAABgDIg0JhiekKBoqAABKKQAPGgR0eXBlIgkKB3BvbHlnb24ogCB4AQ==&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;value&#x27;: &#x27;regulatory--no-parking--g2&#x27;, &#x27;id&#x27;: &#x27;1942105415944115&#x27; } }, ... ]}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatfeature_to_geojsonjson_data-dict"></a>mapillary.utils.format.feature_to_geojson(json_data: dict)<a class="hash-link" href="#mapillaryutilsformatfeature_to_geojsonjson_data-dict" title="Direct link to heading">#</a></h3><p>Converts feature into a GeoJSON, returns output</p><p>From:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;geometry&#x27;: {&#x27;type&#x27;: &#x27;Point&#x27;, &#x27;coordinates&#x27;: [30.003755665554, 30.985948744314]},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;id&#x27;:&#x27;506566177256016&#x27;}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;type&#x27;: &#x27;FeatureCollection&#x27;, &#x27;features&#x27;: [{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;: {&#x27;type&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;Point&#x27;,&#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]}, &#x27;properties&#x27;: {}}]}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><p>  <strong>json_data</strong> (<em>dict</em>) – The feature as a JSON</p></li><li><p><strong>Returns</strong></p><p>  The formatted GeoJSON</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatflattendictionarydata-uniondict-collectionsabcmutablemapping-parent_key-str---sep-str--"></a>mapillary.utils.format.flatten<em>dictionary(data: Union[dict, collections.abc.MutableMapping], parent_key: str = &#x27;&#x27;, sep: str = &#x27;</em>&#x27;)<a class="hash-link" href="#mapillaryutilsformatflattendictionarydata-uniondict-collectionsabcmutablemapping-parent_key-str---sep-str--" title="Direct link to heading">#</a></h3><p>Flattens dictionaries</p><p>From:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;mpy-or&#x27;: {&#x27;extent&#x27;: 4096, &#x27;version&#x27;: 2, &#x27;features&#x27;: [{&#x27;geometry&#x27;: {&#x27;type&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;Polygon&#x27;, &#x27;coordinates&#x27;: [[[2402, 2776], [2408, 2776]]]}, &#x27;properties&#x27;: {}, &#x27;id&#x27;: 1,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;type&#x27;: 3}]}}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;mpy-or_extent&#x27;: 4096, &#x27;mpy-or_version&#x27;: 2, &#x27;mpy-or_features&#x27;: [{&#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {&#x27;type&#x27;:&#x27;Polygon&#x27;, &#x27;coordinates&#x27;: [[[2402, 2776], [2408, 2776]]]}, &#x27;properties&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {}, &#x27;id&#x27;: 1,&#x27;type&#x27;: 3}]}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><ul><li><strong>data</strong> (<em>dict</em>) – The dictionary itself</li></ul><ul><li><strong>parent_key</strong> (<em>str</em>) – The root key to start from</li></ul><ul><li><strong>sep</strong> (<em>str</em>) – The separator</li></ul></li><li><p><strong>Returns</strong></p><p>  A flattened dictionary</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatflatten_geojsongeojson-dict"></a>mapillary.utils.format.flatten_geojson(geojson: dict)<a class="hash-link" href="#mapillaryutilsformatflatten_geojsongeojson-dict" title="Direct link to heading">#</a></h3><p>Flattens a GeoJSON dictionary to a dictionary with only the relevant keys.
This is useful for writing to a CSV file.</p><p>Output Structure:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;geometry&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         &quot;type&quot;: &quot;Point&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         &quot;coordinates&quot;: [71.45343, 12.523432]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;first_seen_at&quot;: &quot;UNIX_TIMESTAMP&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;last_seen_at&quot;: &quot;UNIX_TIMESTAMP&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;value&quot;: &quot;regulatory--no-parking--g2&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;id&quot;: &quot;FEATURE_ID&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;image_id&quot;: &quot;IMAGE_ID&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><p>  <strong>geojson</strong> (<em>dict</em>) – The GeoJSON to flatten</p></li><li><p><strong>Returns</strong></p><p>  A flattened GeoJSON</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Note,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. The geometry key is always present in the output</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2. The properties are flattened to the following keys:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “first_seen_at”   (optional)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “last_seen_at”    (optional)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “value”           (optional)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “id”              (required)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “image_id”        (optional)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * etc.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">3. If the ‘geometry\` type is Point, two more properties will be added:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “longitude”</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        * “latitude”</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><em>TODO</em>: Further testing needed with different geometries, e.g., Polygon, etc.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatgeojson_to_features_listjson_data-dict"></a>mapillary.utils.format.geojson_to_features_list(json_data: dict)<a class="hash-link" href="#mapillaryutilsformatgeojson_to_features_listjson_data-dict" title="Direct link to heading">#</a></h3><p>Converts a decoded output GeoJSON to a list of feature objects</p><p>The purpose of this formatting utility is to obtain a list of individual features for
decoded tiles that can be later extended to the output GeoJSON</p><p>From:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;type&#x27;: &#x27;FeatureCollection&#x27;, &#x27;features&#x27;: [{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {&#x27;type&#x27;: &#x27;Point&#x27;,&#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;properties&#x27;: {}}]}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; [{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;: {&#x27;type&#x27;: &#x27;Point&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]}, &#x27;properties&#x27;: {}}]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><p>  <strong>json_data</strong> (<em>dict</em>) – The given json data</p></li><li><p><strong>Returns</strong></p><p>  The feature list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatgeojson_to_polygongeojson-dict"></a>mapillary.utils.format.geojson_to_polygon(geojson: dict)<a class="hash-link" href="#mapillaryutilsformatgeojson_to_polygongeojson-dict" title="Direct link to heading">#</a></h3><p>Converts a GeoJSON into a collection of only geometry coordinates for the purpose of
checking whether a given coordinate point exists within a shapely polygon</p><p>From:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;type&quot;: &quot;FeatureCollection&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     &quot;features&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;geometry&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;coordinates&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                     -80.13069927692413,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                     25.78523699486192</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 ],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;type&quot;: &quot;Point&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;properties&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;first_seen_at&quot;: 1422984049000,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;id&quot;: 481978503020355,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;last_seen_at&quot;: 1422984049000,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;value&quot;: &quot;object--street-light&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;type&quot;: &quot;Feature&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;geometry&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;coordinates&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                     -80.13210475444794,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                     25.78362849816017</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 ],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;type&quot;: &quot;Point&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;properties&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;first_seen_at&quot;: 1423228306666,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;id&quot;: 252538103315239,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;last_seen_at&quot;: 1423228306666,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;value&quot;: &quot;object--street-light&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;type&quot;: &quot;Feature&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &quot;type&quot;: &quot;FeatureCollection&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &quot;features&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;type&quot;: &quot;Feature&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;properties&quot;: {},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             &quot;geometry&quot;: {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;type&quot;: &quot;Polygon&quot;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 &quot;coordinates&quot;: [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                     [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                         [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                             7.2564697265625,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                             43.69716905314008</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                         ],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                         [</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                             7.27020263671875,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                             43.69419030566581</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                         ],</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                         ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                     ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...                 ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...             }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...         }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     ]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><p>  <strong>geojson</strong> (<em>dict</em>) – The input GeoJSON</p></li><li><p><strong>Returns</strong></p><p>  A geojson of the format mentioned under ‘To’</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatjoin_geojson_with_keysgeojson_src-dict-geojson_src_key-str-geojson_dest-dict-geojson_dest_key-str"></a>mapillary.utils.format.join_geojson_with_keys(geojson_src: dict, geojson_src_key: str, geojson_dest: dict, geojson_dest_key: str)<a class="hash-link" href="#mapillaryutilsformatjoin_geojson_with_keysgeojson_src-dict-geojson_src_key-str-geojson_dest-dict-geojson_dest_key-str" title="Direct link to heading">#</a></h3><p>Combines two GeoJSONS based on the similarity of their specified keys, similar to
the SQL join functionality</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>geojson_src</strong> (<em>dict</em>) – The starting GeoJSO source</li></ul><ul><li><strong>geojson_src_key</strong> (<em>str</em>) – The key in properties specified for the GeoJSON source</li></ul><ul><li><strong>geojson_dest</strong> (<em>dict</em>) – The GeoJSON to merge into</li></ul><ul><li><strong>geojson_dest_key</strong> (<em>dict</em>) – The key in properties specified for the GeoJSON to merge into</li></ul></li><li><p><strong>Returns</strong></p><p>  The merged GeoJSON</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; join_geojson_with_keys(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     geojson_src=geojson_src,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     geojson_src_key=&#x27;id&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     geojson_dest=geojson_dest,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...     geojson_dest_key=&#x27;id&#x27;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatmerged_features_list_to_geojsonfeatures_list-list"></a>mapillary.utils.format.merged_features_list_to_geojson(features_list: list)<a class="hash-link" href="#mapillaryutilsformatmerged_features_list_to_geojsonfeatures_list-list" title="Direct link to heading">#</a></h3><p>Converts a processed features list (i.e. a features list with all the needed features merged
from multiple tiles) into a fully-featured GeoJSON</p><p>From:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; [{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;: {&#x27;type&#x27;: &#x27;Point&#x27;,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]}, &#x27;properties&#x27;: {}}, ...]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; {&#x27;type&#x27;: &#x27;FeatureCollection&#x27;, &#x27;features&#x27;: [{&#x27;type&#x27;: &#x27;Feature&#x27;, &#x27;geometry&#x27;:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... {&#x27;type&#x27;: &#x27;Point&#x27;,&#x27;coordinates&#x27;: [30.98594605922699, 30.003757307208872]},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &#x27;properties&#x27;: {}}, ...]}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><p>  <strong>features_list</strong> (<em>list</em>) – a list of processed features merged from different tiles within a bbox</p></li><li><p><strong>Returns</strong></p><p>  GeoJSON string formatted with all the extra commas removed.</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">str</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsformatnormalize_listcoordinates-list-width-int--4096-height-int--4096"></a>mapillary.utils.format.normalize_list(coordinates: list, width: int = 4096, height: int = 4096)<a class="hash-link" href="#mapillaryutilsformatnormalize_listcoordinates-list-width-int--4096-height-int--4096" title="Direct link to heading">#</a></h3><p>Normalizes a list of coordinates with the respective width and the height</p><p>From:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; [[[2402, 2776], [2408, 2776]]]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; normalize_list(coordinates)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... # [[[0.58642578125, 0.677734375], [0.587890625, 0.677734375]]]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p><strong>Parameters</strong></p><ul><li><strong>coordinates</strong> (<em>list</em>) – The coordinate list to normalize</li></ul><ul><li><strong>width</strong> (<em>int</em>) – The width of the coordinates to normalize with, defaults to 4096</li></ul><ul><li><strong>height</strong> (<em>int</em>) – The height of the coordinates to normalize with, defaults to 4096</li></ul></li><li><p><strong>Returns</strong></p><p>  The normalized list</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mapillaryutilstime-module"></a>mapillary.utils.time module<a class="hash-link" href="#mapillaryutilstime-module" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilstime"></a>mapillary.utils.time<a class="hash-link" href="#mapillaryutilstime" title="Direct link to heading">#</a></h3><p>This module contains the time utilies for the UNIX epoch seconds, the time and the date range, and
the date filtering logic.</p></li><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilstimedate_to_unix_timestampdate-str"></a>mapillary.utils.time.date_to_unix_timestamp(date: str)<a class="hash-link" href="#mapillaryutilstimedate_to_unix_timestampdate-str" title="Direct link to heading">#</a></h3><p>A utility function that converts the given date
into its UNIX epoch timestamp equivalent. It accepts the formats, ranging from
YYYY-MM-DDTHH:MM:SS, to simply YYYY, and a permutation of the fields in between as well</p><p>Has a special argument, ‘*’, which returns current timestamp</p></li><li><p><strong>Parameters</strong></p><p>  <strong>date</strong> (<em>str</em>) – The date to get the UNIX timestamp epoch of</p></li><li><p><strong>Returns</strong></p><p>  The UNIX timestamp equivalent of the input date</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">int</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; from utils.time_utils import date_to_unix_timestamp</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt;&gt;&gt; date_to_unix_timestamp(&#x27;2020-10-23&#x27;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... &quot;1603393200&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="mapillaryutilsverify-module"></a>mapillary.utils.verify module<a class="hash-link" href="#mapillaryutilsverify-module" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillarycontrollerrulesverify"></a>mapillary.controller.rules.verify<a class="hash-link" href="#mapillarycontrollerrulesverify" title="Direct link to heading">#</a></h3><p>This module implements the verification of the filters or keys passed to each of the controllers
under ./controllers that implement the business logic functionalities of the Mapillary
Python SDK.</p><p>For more information, please check out <a href="https://www.mapillary.com/developer/api-documentation/" target="_blank" rel="noopener noreferrer">https://www.mapillary.com/developer/api-documentation/</a></p></li><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifycheck_file_name_validityfile_name-str"></a>mapillary.utils.verify.check_file_name_validity(file_name: str)<a class="hash-link" href="#mapillaryutilsverifycheck_file_name_validityfile_name-str" title="Direct link to heading">#</a></h3><p>Checks if the file name is valid</p><p>Valid file names are,</p></li><li><p>Without extensions</p></li><li><p>Without special characters</p></li><li><p>A-Z, a-z, 0-9, _, -</p></li><li><p><strong>Parameters</strong></p><p>  <strong>file_name</strong> (<em>str</em>) – The file name to be checked</p></li><li><p><strong>Returns</strong></p><p>  True if the file name is valid, else False</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bool</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifyimage_bbox_checkkwargs-dict"></a>mapillary.utils.verify.image_bbox_check(kwargs: dict)<a class="hash-link" href="#mapillaryutilsverifyimage_bbox_checkkwargs-dict" title="Direct link to heading">#</a></h3><p>Check if the right arguments have been provided for the image bounding box</p></li><li><p><strong>Parameters</strong></p><p>  <strong>kwargs</strong> (<em>dict</em>) – The dictionary parameters</p></li><li><p><strong>Returns</strong></p><p>  A final dictionary with the kwargs</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifyimage_checkkwargs"></a>mapillary.utils.verify.image_check(kwargs)<a class="hash-link" href="#mapillaryutilsverifyimage_checkkwargs" title="Direct link to heading">#</a></h3><p>For image entities, check if the arguments provided fall in the right category</p></li><li><p><strong>Parameters</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">**kwargs** (*dict*) – A dictionary that contains the keyword key-value pair arguments</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifyis_image_ididentity-int-fields-optionallist--none"></a>mapillary.utils.verify.is_image_id(identity: int, fields: Optional[list] = None)<a class="hash-link" href="#mapillaryutilsverifyis_image_ididentity-int-fields-optionallist--none" title="Direct link to heading">#</a></h3><p>Checks if the id is an image_id</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>identity</strong> (<em>int</em>) – The id to be checked</li></ul><ul><li><strong>fields</strong> (<em>list</em>) – The fields to be checked</li></ul></li><li><p><strong>Returns</strong></p><p>  True if the id is an image_id, else False</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bool</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifykwarg_checkkwargs-dict-options-list-callback-str"></a>mapillary.utils.verify.kwarg_check(kwargs: dict, options: list, callback: str)<a class="hash-link" href="#mapillaryutilsverifykwarg_checkkwargs-dict-options-list-callback-str" title="Direct link to heading">#</a></h3><p>Checks for keyword arguments amongst the kwarg argument to fall into the options list</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>kwargs</strong> (<em>dict</em>) – A dictionary that contains the keyword key-value pair arguments</li></ul><ul><li><strong>options</strong> (<em>list</em>) – A list of possible arguments in kwargs</li></ul><ul><li><strong>callback</strong> (<em>str</em>) – The function that called ‘kwarg_check’ in the case of an exception</li></ul></li><li><p><strong>Raises</strong></p><p>  <strong>InvalidOptionError</strong> – Invalid option exception</p></li><li><p><strong>Returns</strong></p><p>  A boolean, whether the kwargs are appropriate or not</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bool</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifypoints_traffic_signs_checkkwargs-dict"></a>mapillary.utils.verify.points_traffic_signs_check(kwargs: dict)<a class="hash-link" href="#mapillaryutilsverifypoints_traffic_signs_checkkwargs-dict" title="Direct link to heading">#</a></h3><p>Checks for traffic sign arguments</p></li><li><p><strong>Parameters</strong></p><p>  <strong>kwargs</strong> (<em>dict</em>) – The parameters to be passed for filtering</p></li><li><p><strong>Returns</strong></p><p>  A dictionary with all the options available specifically</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifyresolution_checkresolution-int"></a>mapillary.utils.verify.resolution_check(resolution: int)<a class="hash-link" href="#mapillaryutilsverifyresolution_checkresolution-int" title="Direct link to heading">#</a></h3><p>Checking for the proper thumbnail size of the argument</p></li><li><p><strong>Parameters</strong></p><p>  <strong>resolution</strong> (<em>int</em>) – The image size to fetch for</p></li><li><p><strong>Raises</strong></p><p>  <strong>InvalidOptionError</strong> – Invalid thumbnail size passed raises exception</p></li><li><p><strong>Returns</strong></p><p>  A check if the size is correct</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">bool</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifysequence_bbox_checkkwargs-dict"></a>mapillary.utils.verify.sequence_bbox_check(kwargs: dict)<a class="hash-link" href="#mapillaryutilsverifysequence_bbox_checkkwargs-dict" title="Direct link to heading">#</a></h3><p>Checking of the sequence bounding box</p></li><li><p><strong>Parameters</strong></p><p>  <strong>kwargs</strong> (<em>dict</em>) – The final dictionary with the correct keys</p></li><li><p><strong>Returns</strong></p><p>  A dictionary with all the options available specifically</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dict</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsverifyvalid_ididentity-int-imagetrue"></a>mapillary.utils.verify.valid_id(identity: int, image=True)<a class="hash-link" href="#mapillaryutilsverifyvalid_ididentity-int-imagetrue" title="Direct link to heading">#</a></h3><p>Checks if a given id is valid as it is assumed. For example, is a given id expectedly an
image_id or not? Is the id expectedly a map_feature_id or not?</p></li><li><p><strong>Parameters</strong></p><ul><li><strong>identity</strong> (<em>int</em>) – The ID passed</li></ul><ul><li><strong>image</strong> (<em>bool</em>) – Is the passed id an image_id?</li></ul></li><li><p><strong>Raises</strong></p><p>  <strong>InvalidOptionError</strong> – Raised when invalid arguments are passed</p></li><li><p><strong>Returns</strong></p><p>  None</p></li><li><p><strong>Return type</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">None</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="module-contents"></a>Module contents<a class="hash-link" href="#module-contents" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="mapillaryutilsinit"></a>mapillary.utils.<strong>init</strong><a class="hash-link" href="#mapillaryutilsinit" title="Direct link to heading">#</a></h3><p>This package contains all the internal utilities used within the Mapillary python SDK.</p></li><li><p>Copyright: (c) 2021 Facebook</p></li><li><p>License: MIT LICENSE</p></li></ul></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/sdk/mapillary.utils.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/sdk/mapillary.models"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« mapillary.models package</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#submodules" class="table-of-contents__link">Submodules</a></li><li><a href="#mapillaryutilsauth-module" class="table-of-contents__link">mapillary.utils.auth module</a><ul><li><a href="#mapillaryutilsauth" class="table-of-contents__link">mapillary.utils.auth</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/doc2">Second Doc</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://forum.mapillary.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/mapillary" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.facebook.com/mapillary/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://blog.mapillary.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.mapillary.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">SDK</div><ul class="footer__items"><li class="footer__item"><a href="https://pypi.org/project/mapillary/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>PyPi Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.mapillary.com/developer" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Resources<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mapillary/mapillary-python-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mapillary/mapillary-python-sdk/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Bug Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mapillary/mapillary-python-sdk/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Release Notes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://pypi.org/project/mapillary/#files" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.05a58439.js"></script>
<script src="/assets/js/main.b4f6ff67.js"></script>
</body>
</html>